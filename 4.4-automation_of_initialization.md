[↑目次に戻る](/README.md)
<br>
# 演習4.4　初期化の自動化

演習4.4ではSmartCSに接続されているALAXALA装置の初期化を行う演習となります。  
初期化作業のオペレーションもバージョンアップ作業と同様にSSH経由では作業しにくい内容となりますが、  
コンソール（SmartCS）経由の場合は、遠隔からも行うことが可能となります。  

## 目次
本演習では以下を行います。  
- STEP1.ALAXALA装置の初期化作業手順の確認
- STEP2.AnsibleとSmartCSを連携して、ALAXALA装置の初期化作業を行う。


### STEP1.ALAXALA装置のファームウェアアップデート手順の確認

演習で使用しているALAXALA装置（AX2230）を初期化します。  
まずはユーザ情報を初期化します。

```
login: alaxala
Password:

Copyright (c) 2012-2019 ALAXALA Networks Corporation. All rights reserved.

> enable
Password:
# clear password
Changing local password for alaxala.
Password cleared.
# clear password enable-mode
Changing local password for admin.
Password cleared.
# rename user
Changing username.
Old username:alaxala
New username:operator
# exit

login:
```

続いて、装置の初期化作業、コンフィグレーションの削除、装置障害ログの削除を行います。

```

```

### STEP2.AnsibleとSmartCSを連携して、ALAXALA装置のファームウェアアップデートを行う。

想定  
- ax_command をSmartCSを介して初期化を行う  
- タイムアウト処理をそれなりに長くすれば実行できるはず（演習4.3と同様）  
- 従来のax_commandだけで実行する場合よりも、実行中の入出力がすべてAnsible実行ログに残る事がメリット という感じで締める  
- 最終的に、きちんと初期化されている事の確認もあればなおよし  


[←演習4.3 ファームウェアアップデートの自動化](/4.3-automation_of_firmware_update.md)  
[↑目次に戻る](/README.md)
