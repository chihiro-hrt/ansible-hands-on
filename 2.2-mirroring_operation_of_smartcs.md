[↑目次に戻る](/README.md)
<br>
# 演習2.2　SmartCSを介したALAXALA装置へのコンソールアクセスを、別セッションでミラーリングする

## 目次
本演習では以下を行います。
- STEP1. SmartCSを介してALAXALA装置へコンソールアクセスする
- STEP2. SmartCSを介したALAXALA装置へのコンソールアクセスを、別セッションでミラーリングする
- STEP3. SmartCSにログインし、シリアルセッション情報を確認する

## 演習構成図

> 後で載せる

### STEP1. SmartCSを介してALAXALA装置へコンソールアクセスする

SmartCSを介してALAXALA装置へコンソールアクセスを行います。
本演習では、Teratermなどのターミナルソフトからの接続時に、SmartCSの各シリアルポートに割り当てられたTCPポートを指定して
アクセスするダイレクトモードを使用します。

![Teraterm_DirectMode_RW.png](Teraterm_DirectMode_RW.png)

オペレーション内容の説明
- TelnetあるいはSSHでSmartCSへ接続し、ログインID（port1）、パスワード（port1）を入力してログインします。
- 接続の際に指定するTCPポート番号は、Telnetの場合は8101、SSHの場合は8301となります。
- ログインID（operator）を入力してALAXALA装置にログイン後、<code>show version</code>コマンドを実行します。  
- オペレーション完了後、<code>exit</code>コマンドを実行してログアウトします。
- 最後にCtrl+Zでポートサーバーメニューに戻り、<code>4  : close telnet/ssh session</code>で終了します。
> ID、Passは正式版に変更する必要有
<br>



### STEP2. SmartCSを介したALAXALA装置へのコンソールアクセスを、別セッションでミラーリングする

SmartCSを介したALAXALA装置へのコンソールアクセスに対して、別セッションでオペレーションのミラーリングを行います。
本演習では、Teratermなどのターミナルソフトからの接続時に、SmartCSの各シリアルポートに割り当てられたTCPポートを指定して
アクセスするダイレクトモードを使用します。


オペレーション内容の説明
- TelnetあるいはSSHでSmartCSへ接続し、ログインID（port1）、パスワード（port1）を入力してログインします。
- 接続の際に指定するTCPポート番号は、Telnetの場合は8101、SSHの場合は8301となります。（rwモードでの接続）
- ログインID（operator）を入力してALAXALA装置にログインします。
- 別ターミナルを開き、SmartCS本体へSSHで接続してログインID（）、パスワード（）を入力してログインします。
- SmartCSで<code>show portd session</code>コマンドを実行してシリアルセッション情報を確認します。
- tty1に繋がっているAX2230へのシリアルセッションが存在することを確認したら、
- さらに別ターミナルを開きTelnetあるいはSSHでSmartCSへ接続し、ログインID（port1）、パスワード（port1）を入力してログインします。
- 接続の際に指定するTCPポート番号は、Telnetの場合は8201、SSHの場合は8401となります。（roモードでの接続）
- rwモードの画面で<code>show version</code>コマンドを実行し、roモードの画面でミラーリングできることを確認します。
- オペレーション完了後、rwモードの画面で<code>exit</code>コマンドを実行してログアウトします。
- 最後にCtrl+Zでポートサーバーメニューに戻り、<code>4  : close telnet/ssh session</code>で終了します。
> ID、Passは正式版に変更する必要有
<br>



### STEP3. SmartCSにログインし、シリアルセッション情報を確認する

SmartCSに本体ログインし、シリアルセッション情報の確認を行います。

SmartCSでのセッション情報確認は以下のようなオペレーションとなります。
<br>

```
(1)NS-2250# show portd session
telnet rw :   0   ro :   0
ssh    rw :   1   ro :   0
available session ( telnet only : 95 / ssh only : 95 )
---------------------------------------------------------------------------
tty    : Label                                      Session-Limit 
   Type Login-User       Local     Remote
---------------------------------------------------------------------------
tty  1 : AX2230                                     RW: 2 / RO: 3 
   rw 1 port1            ssh:8301  10.208.39.104:36712

(1)NS-2250#
```



[→演習3.1 ALAXALA装置にSmartCS経由で初期設定を行う](/3.1-initial_setup_the_alaxala_device_via_smartcs.md)  
[↑目次に戻る](/README.md)
