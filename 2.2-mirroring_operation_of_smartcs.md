[↑目次に戻る](/README.md)
<br>
# 演習2.2　SmartCSを介したALAXALA装置へのコンソールアクセスを、別セッションでミラーリングする
演習2.2では、SmartCSを介したALAXALA装置へのコンソールアクセスに対し、別セッションでミラーリングを行います。
<br>
TeratermなどのターミナルソフトからSmartCSへの接続時に、SmartCSの各シリアルポートに割り当てられたTCPポートを指定して
アクセスするダイレクトモードを使用します。

## 目次
本演習では以下を行います。
- STEP1. SmartCSへノーマルモード(RW)でアクセスし、ポートユーザでログインする
- STEP2. SmartCSを介してALAXALA装置へログインする
- STEP3. SmartCSへモニターモード(RO)でアクセスし、ポートユーザでログインする
- STEP4. ALAXALA装置に対してコマンドを実行し、ミラーリングを行う
- STEP5. ALAXALA装置からログアウトする
- STEP6. SmartCSのシリアルセッションを終了する

## 演習構成図

> 後で載せる

### STEP1. SmartCSへノーマルモード(RW)でアクセスし、ポートユーザでログインする
SmartCSへダイレクトモードのノーマルモード(RW)で接続して、ポートユーザでログインを行います。
<br>
まず、Teratermなどのターミナルソフトを使用して、SSHでSmartCSへ接続します。
<br>
接続時に、TCPポート番号を8301と指定します。

![Teraterm_DirectMode_RW.png](Teraterm_DirectMode_RW.png)

認証に使用するポートユーザは、ログインID（port1）/パスワード（port1）です。
<br>
ログインに成功すると、以下のようなポートサーバーメニューが表示されます。
<br>

```
-- RW1 ------------------------
Host  : "NS-2250"
Label : "AX2230"
-------------------------------
1  : display Port Log
2  : display Port Log (LAST)
3  : start tty connection
4  : close telnet/ssh session
5  : show all commands
tty-1:rw>
```
> ID、Passは正式版に変更する必要有


### STEP2. SmartCSを介してALAXALA装置へログインする
ポートサーバーメニューからシリアルセッションを開始し、ALAXALA装置へログインを行います。
<br>
まず、<code>3  : start tty connection</code>を選択し、シリアルセッションを開始します。
<br>
続けてログインID（operator）を入力するとALAXALA装置にログインすることができます。
<br>

```
-- RW1 ------------------------
Host  : "NS-2250"
Label : "AX2230"
-------------------------------
1  : display Port Log
2  : display Port Log (LAST)
3  : start tty connection
4  : close telnet/ssh session
5  : show all commands
tty-1:rw> 3
Press "CTRL-Z" to return this MENU.
Start tty connection
operator

Copyright (c) 2012-2019 ALAXALA Networks Corporation. All rights reserved.

AX2230>
```



### STEP3. SmartCSへモニターモード(RO)でアクセスし、ポートユーザでログインする
STEP1のセッションを残したまま新しくターミナルを開き、SmartCSへダイレクトモードのモニターモード(RO)で接続して、ポートユーザでログインを行います。
<br>
まず、Teratermなどのターミナルソフトを使用して、SSHでSmartCSへ接続します。
<br>
接続時に、TCPポート番号を8401と指定します。

![Teraterm_DirectMode_RO.png](Teraterm_DirectMode_RO.png)

認証に使用するポートユーザは、ログインID（port1）/パスワード（port1）です。
<br>
ログインに成功するとシリアルセッションが開始し、以下のような内容が表示されます。
<br>
モニターモード(RO)でアクセスしているので、Enterや文字列などの入力ができないことをご確認ください。

```
Press "CTRL-Z" to disconnect this session.
Start tty connection

```
> ID、Passは正式版に変更する必要有


[→演習3.1 ALAXALA装置にSmartCS経由で初期設定を行う](/3.1-initial_setup_the_alaxala_device_via_smartcs.md)  
[↑目次に戻る](/README.md)
